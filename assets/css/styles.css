:root{
  --bg:#0b1220;
  --bg-grad1:#0f1b2f;
  --card:#0f1a2d;
  --surface:#0d1628;
  --line:#1b2a45;
  --ring:#273551;
  --text:#e7eefc;
  --muted:#9fb0cd;
  --accent:#7cc0ff;
  --accent-2:#a5ffd1;
  --ok:#88f7b1;
  --warn:#ffd27a;
  --danger:#ff8aa1;
  --shadow: 0 10px 30px rgba(0,0,0,.25);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(1200px 700px at 10% -10%, #15223c 0%, transparent 60%),
    radial-gradient(1200px 700px at 110% 10%, #172443 0%, transparent 60%),
    linear-gradient(135deg,var(--bg),var(--bg-grad1) 55%,var(--bg));
  color:var(--text);
  font:16px/1.6 "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
a{color:inherit;text-decoration:none} /* no underline */
button{font:inherit}

.container{ width:min(1100px,92%); margin-inline:auto }

.site-header{ position:sticky; top:0; z-index:50; backdrop-filter: blur(10px); background:rgba(11,18,32,.5); border-bottom:1px solid var(--line) }
.topbar{ display:flex; align-items:center; gap:.8rem; padding:.7rem 0 }

.brand-wrap{ display:flex; align-items:center; gap:.6rem }
.logo-dot{ width:12px; height:12px; border-radius:999px; background:linear-gradient(145deg,var(--accent),#d0f3ff) }
.brand{ font-weight:700; letter-spacing:.2px }

.tabs{ display:flex; gap:.3rem; padding:.3rem; background:rgba(124,192,255,.08); border:1px solid var(--ring); border-radius:999px }
.tab{
  appearance:none; border:none; cursor:pointer; padding:.45rem .9rem; border-radius:999px;
  color:var(--muted); background:transparent; transition:all .15s ease;
}
.tab[aria-selected="true"], .tab.active{ background:var(--accent); color:#0a1530; font-weight:700; }

.session-seg{ display:flex; gap:.35rem; margin-left:auto; background:var(--surface); padding:.25rem; border:1px solid var(--ring); border-radius:999px }
.seg{
  appearance:none; border:none; cursor:pointer; padding:.4rem .7rem; border-radius:999px; color:var(--muted);
  background:transparent; transition: all .15s ease;
}
.seg.active{ background:#10203a; color:var(--accent); border:1px solid var(--ring); }

.main-area{ padding:1.1rem 0 2rem }

.view{ display:none; }
.view.active{ display:block; }

.panel{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:1rem;
  padding:1.1rem;
  box-shadow: var(--shadow);
}

.panel-head{ margin-bottom:.6rem }
.title{ margin:.2rem 0 .15rem; font-size:1.35rem; letter-spacing:.2px; display:flex; align-items:center; gap:.5rem }
.title-emoji{ filter: saturate(1.1) brightness(1.1) }
.subtitle{ color:var(--muted); margin:0 }

.list{ display:grid; gap:.6rem; margin-top:.8rem }
.row{
  display:flex; gap:.7rem; align-items:flex-start; padding:.7rem .8rem;
  border:1px solid var(--line); border-radius:.9rem; background:#0d1931; transition:border-color .15s ease, transform .04s ease;
}
.row:hover{ border-color:#36507a }
.row:active{ transform: translateY(1px) }
.row .main{ font-weight:600; letter-spacing:.1px }
.row .anno{ color:var(--muted); margin-top:.2rem; font-size:.96rem }
.row .tag{ display:inline-block; padding:.08rem .45rem; font-size:.75rem; border:1px solid var(--ring); border-radius:999px; color:var(--accent); background:#0f1f39; margin-top:.35rem }

.muted{ color:var(--muted) }
.lead{ font-size:1.05rem }

.pill{
  display:inline-flex; align-items:center; gap:.35rem;
  padding:.25rem .6rem; border-radius:999px;
  background:#0f1f39; color:var(--accent); border:1px solid var(--ring); font-size:.85rem
}
.spacer{ flex:1 }

.btn{
  appearance:none; border:1px solid var(--ring); cursor:pointer;
  background:#142241; color:var(--text); border-radius:.7rem; padding:.6rem .9rem;
  transition: transform .04s ease, background .2s ease, border-color .2s ease;
}
.btn:hover{ background:#1b2f57; border-color:#3a588b }
.btn:active{ transform: translateY(1px) }
.btn[disabled]{ opacity:.6; cursor:not-allowed }
.btn.primary{ background:var(--accent); color:#0a1530; border-color:#5aaee9; font-weight:700 }
.btn.ghost{ background:transparent }

.quiz{ margin-top:.6rem }
.quiz-top{ display:flex; align-items:center; gap:.6rem; margin-bottom:.6rem }

.card{
  background:#0c172c;
  border:1px solid var(--line);
  border-radius:.9rem;
  padding:1rem;
  box-shadow: var(--shadow);
}

.option{
  border:1px solid var(--line);
  border-radius:.8rem;
  padding:.75rem .8rem; margin:.55rem 0;
  display:flex; align-items:flex-start; gap:.65rem; cursor:pointer;
  background:#0d1a33;
}
.option:hover{ border-color:#34507a; background:#0f1f3b }
.option input{ margin-top:.2rem }
.opt-text b{ letter-spacing:.2px }
.kana{ color:var(--muted); font-size:.95rem }

.quiz-actions{ display:flex; align-items:center; gap:.6rem; margin-top:.8rem }

.result{ margin-top:1rem }
.result-actions{ display:flex; gap:.6rem; margin-top:.7rem }

.details summary{ cursor:pointer; user-select:none; }
.details > div{ margin-top:.5rem }

.empty{ text-align:center; padding:1.25rem .5rem; color:var(--muted) }
.hidden{ display:none !important }

/* Skeleton */
.skeleton{ display:grid; gap:.6rem; padding:.4rem 0 }
.skeleton-line{
  height:14px; border-radius:.4rem; background:
  linear-gradient(90deg, #12203a 0%, #1a2a48 35%, #12203a 70%);
  background-size:200% 100%; animation: shine 1.1s linear infinite;
}
.skeleton-line.w-80{ width:80% } .skeleton-line.w-90{ width:90% } .skeleton-line.w-70{ width:70% }
@keyframes shine{ to { background-position:-200% 0 } }

.site-footer{ border-top:1px solid var(--line); margin-top:1.2rem; }
.site-footer .container{ padding:1rem 0; color:var(--muted) }

/* Mobile tweaks */
@media (max-width:780px){
  .tabs{ display:none }
  .session-seg{ margin-left:0 }
  .topbar{ justify-content:space-between }
  .brand{ font-size:1rem }
}